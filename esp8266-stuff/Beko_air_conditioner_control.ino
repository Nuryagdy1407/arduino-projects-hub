#include <IRremote.h>
#include <SoftwareSerial.h>
SoftwareSerial master (4,5);
String stream;


unsigned int poweron[] = {9020,4432,572,1688,548,1690,580,524,554,552,552,554,524,582,552,1686,578,
1660,550,1688,552,1686,552,1688,552,552,550,554,580,526,578,526,552,1686,558,548,580,524,550,554,
582,522,550,556,550,1688,552,1688,522,1716,524,580,580,524,554,550,580,526,580,526,552,552,550,556,
550,556,578,524,554,552,608,476,572,554,552,554,576,1660,580,1656,578,528,550,556,550,554,584,520,
522,582,580,526,550,554,578,526,578,528,552,552,548,558,552,552,580,526,610,494,552,1686,580,526,
550,556,522,582,552,554,552,552,552,554,548,556,550,554,580,526,578,526,576,528,524,582,550,554,
580,524,582,524,578,526,550,554,552,554,548,556,580,524,552,550,578,506,546,580,530,1708,580,526,
552,552,552,552,554,552,524,580,578,526,550,556,580,524,552,554,554,530,576,1662,630,496,578,526,
582,524,578,528,550,554,554,552,498,608,548,1690,554,1686,550,556,580,1660,582,522,496,610,522,1716,
552,1686,552};

unsigned int volumeup[] = {9004,4450,582,1658,580,1658,580,524,580,524,580,524,582,524,580,1658,580,
1658,580,1658,582,1656,582,1660,578,524,582,524,580,1658,580,1658,582,524,580,524,580,526,580,526,
578,524,580,524,580,1658,582,1658,582,1656,580,524,580,526,580,524,582,524,580,526,580,526,580,526,
580,524,582,524,580,526,580,524,580,524,582,524,582,1658,580,1658,582,524,582,524,580,526,578,526,
578,524,580,524,582,524,580,524,580,526,580,524,580,524,582,524,580,524,580,524,582,1658,582,524,
580,524,580,524,582,524,580,526,580,526,580,524,582,524,580,526,580,524,580,526,580,524,580,526,
580,524,580,522,582,524,580,524,580,524,580,524,582,524,580,526,580,524,582,524,580,1658,580,524,
582,524,580,524,580,528,578,524,580,524,580,524,580,524,580,524,580,524,582,524,580,524,580,526,
580,524,580,524,582,524,580,526,580,524,580,524,582,1656,582,524,582,1658,580,524,582,1658,582,524,582,1658,580};

unsigned int volumedown[] = {4532,4496,612,1626,558,1658,632,1628,610,510,610,508,610,510,608,510,610,508,610,1628,610,1628,558,1680,610,510,610,508,558,562,556,562,610,506,558,1682,610,1626,608,510,608,1630,610,508,556,562,610,508,610,508,558,560,612,508,610, 1628,608,512,610,1626,610,1628,610,1628,610,1628,556};

unsigned int poweroff[] = {9002,4452,580,1658,582,1658,580,524,580,524,580,526,580,524,580,1658,580,
1658,580,1658,580,1658,582,1658,580,526,580,524,580,524,580,524,580,1658,612,494,580,524,580,526,580,
526,580,524,580,1658,580,1658,580,1658,580,526,610,494,612,494,578,526,580,524,580,524,580,526,580,
526,580,526,580,524,580,524,580,524,580,524,580,1658,580,1658,580,526,580,524,580,524,580,526,580,524,
580,526,580,524,580,526,580,526,580,524,580,526,578,524,580,524,580,526,580,1658,580,524,580,526,580,
524,580,526,580,526,580,524,580,526,580,524,580,524,580,526,580,526,580,524,580,526,580,524,580,524,
580,526,610,494,610,494,580,524,612,494,580,524,580,526,580,526,578,524,580,526,578,526,580,526,580,
524,580,524,580,524,580,524,580,526,580,526,580,524,580,1658,580,526,580,1658,580,526,610,496,580,
524,580,524,580,524,580,1658,580,1658,580,1660,580,1658,580,526,580,1658,580,526,578,1660,580};

unsigned int Chplus[] = {9074,4414,582,542,610,1630,612,512,582,540,582,542,582,542,582,540,582,542,612,1628,584,542,612,514,582,1656,610,1628,610,1632,582, 1660,582,1658,582,542,612,1628,582,1656,582,1658,582,1658,584,540,584,1658,584,540,582,1634,634,514,582,542,582,540,582,542,610,1630,582,542,582,1658,582};
unsigned int Chminus[] = {9016,4472,582,544,582,1660,634,490,582,542,582,544,580,542,634,490,582,520,606,1660,582,544,634,466,606,1658,582,1658,582,1638,604,1660,582,1660,582,1660,582,1660,634,1608,632,1608,582,1660,582,544,634,1584,656,490,582,544,580,540,582,544,582,520,604,542,582,1660,582,542,634,1606,582};

unsigned int mute[] = {4566,4442,612,1626,612,1626,612,1624,612,506,612,506,612,506,612,506,612,508,612,1624,614,1624,612,1624,614,506,612,506,612,506,612,506,612,506,612,1626,612,1624,614,1624,612,1626,612,506,612,506,612,506,612,506,612,506,612,506,612,508,638,480,614,1626,612,1626,612,1626,612,1626,612};

unsigned int settings[] = {27968,4550,-4400,600,-1650,550,-1650,600,-1600,600,-500,650,-500,550,-550,600,-500,600,-500,600,-1650,600,-1600,550,-1650,600,-550,600,-500,600,-500,600,-500,600,-500,600,-500,600,-1650,600,-500,600,-1600,600,-1650,600,-500,600,-500,600,-500,600,-1650,600,-500,600,-1600,600,-500,600,-550,600,-1600,650,-1550,600,-1650,600 
};

unsigned int enter[] = {10444,4500,-4450,550,-1650,550,-1700,550,-1650,600,-500,550,-600,550,-550,550,-550,550,-550,550,-1650,550,-1700,550,-1650,550,-550,550,-600,550,-550,550,-550,550,-550,550,-550,550,-550,600,-550,550,-1650,550,-550,550,-1700,550,-1650,550,-550,550,-1650,550,-1700,550,-1650,550,-550,550,-1700,550,-550,550,-550,600,-1600,550 
};

unsigned int homee[] = {22518,4550,-4400,600,-1600,600,-1650,600,-1600,600,-500,600,-500,600,-500,600,-550,600,-500,600,-1600,600,-1600,650,-1600,600,-500,600,-500,600,-500,600,-550,600,-500,600,-1600,550,-550,600,-500,600,-1650,600,-1600,600,-1650,650,-1550,600,-500,600,-500,600,-1650,600,-1600,600,-500,600,-500,600,-500,650,-500,600,-1600,600 
};

unsigned int exitt[] = {27940,4500,-4450,600,-1600,550,-1650,550,-1700,550,-550,550,-550,550,-550,550,-550,550,-600,550,-1650,550,-1650,550,-1700,550,-550,550,-550,600,-500,600,-500,550,-600,600,-1600,550,-550,550,-1650,550,-1700,550,-550,550,-1650,550,-600,550,-550,550,-550,550,-1650,550,-550,600,-550,550,-1650,550,-550,550,-1650,600,-1650,550 
};
IRsend irsend;
void setup()
{
  pinMode (3, OUTPUT);  //output used in library
   Serial.begin(9600);
   master.begin(115200);
}
void loop() {
  if (master.available()){
    stream = master.readStringUntil('\n');
    stream.trim();
    if (stream.length()>0){
      if (stream == "poweron"){
      irsend.sendRaw(poweron,211,38);
      Serial.print("poweron");
      }
      else if (stream == "poweroff"){
        irsend.sendRaw(poweroff,211,38);
      }
      else if (stream == "volumeup"){
        irsend.sendRaw(volumeup,211,38);
      }/*
      else if (stream == "volumedown"){
        irsend.sendRaw(volumedown,68,38);
      }
      else if (stream == "mute"){
        irsend.sendRaw(mute,67,38);
      }
      else if (stream == "settings"){
        irsend.sendRaw(settings,68,38);
      }
      else if (stream == "source"){
        irsend.sendRaw(source,68,38);
      }
      else if (stream == "Chplus"){
        irsend.sendRaw(Chplus,68,38);
      }
      else if (stream == "Chminus"){
        irsend.sendRaw(Chminus,68,38);
      }
      else if (stream == "mute"){
        irsend.sendRaw(mute,68,38);
      }
      else if (stream == "settings"){
        irsend.sendRaw(settings,68,38);
      }
      else if (stream == "enter"){
        irsend.sendRaw(enter,68,38);
      }
      else if (stream == "exitt"){
        irsend.sendRaw(exitt,68,38);
      }*/
      Serial.println(stream);
      stream="";
    }

      
    }

}
